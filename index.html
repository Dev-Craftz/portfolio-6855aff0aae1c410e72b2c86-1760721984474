
    <!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>ShopEase</title>
      <script src="https://cdn.tailwindcss.com"></script>
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
      <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap');
        
        body {
          font-family: 'Outfit', sans-serif;
        }
        
        .gradient-text {
          background: linear-gradient(135deg, #0D9488, #059669);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }
        
        .gradient-bg {
          background: linear-gradient(135deg, #0D9488, #059669);
        }
        
        .fade-in {
          animation: fadeIn 0.6s ease-in-out;
        }
        
        @keyframes fadeIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        .slide-in {
          animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
          from {
            transform: translateX(-100%);
            opacity: 0;
          }
          to {
            transform: translateX(0);
            opacity: 1;
          }
        }
        
        .floating {
          animation: floating 3s ease-in-out infinite;
        }
        
        @keyframes floating {
          0%, 100% {
            transform: translateY(0);
          }
          50% {
            transform: translateY(-10px);
          }
        }
        
        .card-hover {
          transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover:hover {
          transform: translateY(-8px);
        }
      </style>
    </head>
    <body class="bg-gradient-to-br from-teal-50 to-emerald-50 min-h-screen">
      <div class="min-h-screen flex flex-col">
        
  <div id="auth-modals">
    <div id="login-modal" class="fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 hidden">
      <div class="bg-white p-10 rounded-3xl shadow-2xl w-96 max-w-md relative transform transition-all duration-500 scale-95">
        <button class="close-modal absolute top-6 right-6 text-gray-400 hover:text-gray-600 transition-colors duration-200">
          <i class="fas fa-times text-2xl"></i>
        </button>
        <div class="text-center mb-8">
          <div class="w-20 h-20 gradient-bg rounded-2xl flex items-center justify-center mx-auto mb-4 floating">
            <i class="fas fa-lock text-white text-2xl"></i>
          </div>
          <h2 class="text-3xl font-bold gradient-text mb-2">Welcome Back</h2>
          <p class="text-gray-500">Sign in to your account</p>
        </div>
        <form id="login-form">
          <div class="mb-6">
            <label class="block text-gray-700 mb-3 font-semibold" for="login-email">Email Address</label>
            <input type="email" id="login-email" class="w-full px-5 py-4 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 focus:bg-white text-gray-800 transition-all duration-300" required>
          </div>
          <div class="mb-8">
            <label class="block text-gray-700 mb-3 font-semibold" for="login-password">Password</label>
            <input type="password" id="login-password" class="w-full px-5 py-4 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 focus:bg-white text-gray-800 transition-all duration-300" required>
          </div>
          <button type="submit" class="w-full gradient-bg text-white py-4 px-6 rounded-2xl hover:shadow-xl transform hover:scale-105 transition-all duration-300 font-semibold text-lg shadow-lg">
            Sign In to Account
          </button>
        </form>
        <p class="mt-8 text-center text-gray-600">
          New here?
          <button id="show-signup" class="text-teal-600 hover:text-teal-700 font-semibold ml-1 transition-colors duration-200">Create Account</button>
        </p>
      </div>
    </div>

    <div id="signup-modal" class="fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 hidden">
      <div class="bg-white p-10 rounded-3xl shadow-2xl w-96 max-w-md relative transform transition-all duration-500 scale-95">
        <button class="close-modal absolute top-6 right-6 text-gray-400 hover:text-gray-600 transition-colors duration-200">
          <i class="fas fa-times text-2xl"></i>
        </button>
        <div class="text-center mb-8">
          <div class="w-20 h-20 gradient-bg rounded-2xl flex items-center justify-center mx-auto mb-4 floating">
            <i class="fas fa-user-plus text-white text-2xl"></i>
          </div>
          <h2 class="text-3xl font-bold gradient-text mb-2">Join Us</h2>
          <p class="text-gray-500">Create your account</p>
        </div>
        <form id="signup-form">
          <div class="mb-4">
            <label class="block text-gray-700 mb-3 font-semibold" for="signup-name">Full Name</label>
            <input type="text" id="signup-name" class="w-full px-5 py-4 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 focus:bg-white text-gray-800 transition-all duration-300" required>
          </div>
          <div class="mb-4">
            <label class="block text-gray-700 mb-3 font-semibold" for="signup-email">Email Address</label>
            <input type="email" id="signup-email" class="w-full px-5 py-4 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 focus:bg-white text-gray-800 transition-all duration-300" required>
          </div>
          <div class="mb-4">
            <label class="block text-gray-700 mb-3 font-semibold" for="signup-password">Password</label>
            <input type="password" id="signup-password" class="w-full px-5 py-4 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 focus:bg-white text-gray-800 transition-all duration-300" required>
          </div>
          <div class="mb-4">
            <label class="block text-gray-700 mb-3 font-semibold" for="signup-phone">Phone Number</label>
            <input type="tel" id="signup-phone" class="w-full px-5 py-4 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 focus:bg-white text-gray-800 transition-all duration-300" required>
          </div>
          <div class="mb-8">
            <label class="block text-gray-700 mb-3 font-semibold" for="signup-whatsapp">WhatsApp Number</label>
            <input type="tel" id="signup-whatsapp" class="w-full px-5 py-4 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 focus:bg-white text-gray-800 transition-all duration-300" required>
          </div>
          <button type="submit" class="w-full gradient-bg text-white py-4 px-6 rounded-2xl hover:shadow-xl transform hover:scale-105 transition-all duration-300 font-semibold text-lg shadow-lg">
            Create Account
          </button>
        </form>
        <p class="mt-8 text-center text-gray-600">
          Already have an account?
          <button id="show-login" class="text-teal-600 hover:text-teal-700 font-semibold ml-1 transition-colors duration-200">Sign In</button>
        </p>
      </div>
    </div>
  </div>

        
  <header class="bg-white/80 backdrop-blur-md shadow-sm sticky top-0 z-30 border-b border-gray-100">
    <div class="container mx-auto px-6 py-5 flex justify-between items-center">
      <div class="flex items-center space-x-4">
        <button id="menu-toggle" class="text-gray-600 hover:text-teal-600 transition-colors duration-200 lg:hidden transform hover:scale-110">
          <i class="fas fa-bars text-2xl"></i>
        </button>
        <h1 class="text-4xl font-bold gradient-text">ShopEase</h1>
      </div>
      <div class="flex items-center space-x-6">
        <button id="auth-btn" class="text-gray-600 hover:text-teal-600 transition-colors duration-200 transform hover:scale-105 font-semibold">
          <i class="fas fa-user-circle text-xl mr-2"></i>Sign In
        </button>
        <button id="cart-btn" class="relative text-gray-600 hover:text-teal-600 transition-colors duration-200 transform hover:scale-105 hidden">
          <i class="fas fa-shopping-bag text-2xl"></i>
          <span id="cart-count" class="absolute -top-2 -right-2 gradient-bg text-white text-sm rounded-full h-7 w-7 flex items-center justify-center hidden font-bold shadow-lg">0</span>
        </button>
        <button id="logout-btn" class="text-gray-600 hover:text-teal-600 transition-colors duration-200 transform hover:scale-105 hidden font-semibold">
          <i class="fas fa-sign-out-alt text-xl mr-2"></i>Logout
        </button>
      </div>
    </div>
  </header>

        
        <div class="flex flex-1">
          
  <aside id="sidebar" class="bg-white/90 backdrop-blur-md w-80 fixed h-full z-20 -translate-x-full lg:translate-x-0 transition-transform duration-500 shadow-xl border-r border-gray-100">
    <div class="p-8">
      <nav>
        <ul class="space-y-4">
          <li>
            <button id="home-btn" class="w-full text-left px-6 py-5 rounded-2xl bg-teal-500 text-white font-semibold shadow-lg transform transition-all duration-300 hover:scale-105 card-hover">
              <i class="fas fa-home mr-4"></i>Home
            </button>
          </li>
          <li>
            <button id="items-btn" class="w-full text-left px-6 py-5 rounded-2xl hover:bg-teal-50 text-gray-700 font-medium border-2 border-transparent hover:border-teal-200 transform transition-all duration-300 hover:scale-105 card-hover">
              <i class="fas fa-shopping-bag mr-4"></i>Products
            </button>
          </li>
          <li>
            <button id="cart-nav-btn" class="w-full text-left px-6 py-5 rounded-2xl hover:bg-teal-50 text-gray-700 font-medium border-2 border-transparent hover:border-teal-200 transform transition-all duration-300 hover:scale-105 card-hover">
              <i class="fas fa-shopping-cart mr-4"></i>Cart
            </button>
          </li>
          <li>
            <button id="address-btn" class="w-full text-left px-6 py-5 rounded-2xl hover:bg-teal-50 text-gray-700 font-medium border-2 border-transparent hover:border-teal-200 transform transition-all duration-300 hover:scale-105 card-hover">
              <i class="fas fa-map-marker-alt mr-4"></i>My Address
            </button>
          </li>
          <li id="admin-dashboard-btn" class="hidden">
            <button id="admin-btn" class="w-full text-left px-6 py-5 rounded-2xl hover:bg-teal-50 text-gray-700 font-medium border-2 border-transparent hover:border-teal-200 transform transition-all duration-300 hover:scale-105 card-hover">
              <i class="fas fa-user-shield mr-4"></i>Admin Dashboard
            </button>
          </li>
        </ul>
      </nav>
    </div>
  </aside>

          
  <main class="flex-1 p-8 lg:ml-80">
    
  <div id="home-page" class="fade-in">
    <div class="bg-white rounded-3xl p-12 shadow-2xl border-2 border-gray-100">
      <div class="text-center mb-12">
        <h2 class="text-5xl font-bold gradient-text mb-6">Welcome to ShopEase</h2>
        <p class="text-gray-600 text-xl leading-relaxed max-w-3xl mx-auto">Your one-stop shop for all your needs.</p>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mt-12">
        <div class="bg-gradient-to-br from-teal-50 to-emerald-50 p-8 rounded-3xl border-2 border-teal-100 transform transition-all duration-500 card-hover">
          <div class="w-16 h-16 gradient-bg rounded-2xl flex items-center justify-center mb-6 floating">
            <i class="fas fa-star text-white text-2xl"></i>
          </div>
          <h3 class="font-bold text-gray-800 text-2xl mb-4">Curated Selection</h3>
          <p class="text-gray-600 leading-relaxed">Carefully chosen products that meet our high standards of quality and design.</p>
        </div>
        <div class="bg-gradient-to-br from-cyan-50 to-blue-50 p-8 rounded-3xl border-2 border-cyan-100 transform transition-all duration-500 card-hover">
          <div class="w-16 h-16 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-2xl flex items-center justify-center mb-6 floating">
            <i class="fas fa-clock text-white text-2xl"></i>
          </div>
          <h3 class="font-bold text-gray-800 text-2xl mb-4">Quick Delivery</h3>
          <p class="text-gray-600 leading-relaxed">Fast and reliable shipping to bring your favorite products to you in no time.</p>
        </div>
        <div class="bg-gradient-to-br from-green-50 to-emerald-50 p-8 rounded-3xl border-2 border-green-100 transform transition-all duration-500 card-hover">
          <div class="w-16 h-16 bg-gradient-to-r from-green-500 to-emerald-500 rounded-2xl flex items-center justify-center mb-6 floating">
            <i class="fas fa-shield-alt text-white text-2xl"></i>
          </div>
          <h3 class="font-bold text-gray-800 text-2xl mb-4">Safe & Secure</h3>
          <p class="text-gray-600 leading-relaxed">Shop with confidence knowing your information is protected with top security.</p>
        </div>
      </div>
    </div>
  </div>

    
  <div id="items-page" class="hidden fade-in">
    <div class="bg-white rounded-3xl p-12 shadow-2xl border-2 border-gray-100">
      <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-12 space-y-6 lg:space-y-0">
        <h2 class="text-5xl font-bold gradient-text">Our Products</h2>
        <div class="relative w-full lg:w-96">
          <input type="text" id="search-items" placeholder="Search products..." class="w-full px-6 py-5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 focus:bg-white text-gray-800 pl-14 transition-all duration-300 text-lg">
          <i class="fas fa-search absolute left-6 top-1/2 transform -translate-y-1/2 text-gray-400 text-xl"></i>
        </div>
      </div>
      <div id="items-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8">
        
    <div class="bg-white rounded-3xl border-2 border-gray-100 overflow-hidden hover:border-teal-200 hover:shadow-2xl transition-all duration-500 group">
      <div class="relative overflow-hidden">
        <img src="https://res.cloudinary.com/drc8bufjn/image/upload/v1760721986/ecommerce_products/kvyqbbzaqwo6744lnskl.png" alt="Wireless Headphones" class="w-full h-48 object-cover group-hover:scale-110 transition duration-700">
        <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition duration-500"></div>
      </div>
      <div class="p-6">
        <h3 class="font-bold text-xl mb-3 text-gray-800 group-hover:text-teal-700 transition-colors duration-300">Wireless Headphones</h3>
        <p class="text-gray-600 mb-4 leading-relaxed">High-quality wireless headphones with noise cancellation</p>
        <div class="flex justify-between items-center">
          <span class="font-bold text-2xl text-teal-600">$99.99</span>
          <button class="add-to-cart bg-teal-500 text-white px-5 py-2.5 rounded-2xl hover:bg-teal-600 hover:shadow-lg transform hover:scale-105 transition-all duration-300 font-semibold" data-id="1">
            <i class="fas fa-shopping-bag mr-2"></i>Add
          </button>
        </div>
      </div>
    </div>
  
      </div>
    </div>
  </div>

    
  <div id="cart-page" class="hidden fade-in">
    <div class="bg-white rounded-3xl p-12 shadow-2xl border-2 border-gray-100">
      <h2 class="text-5xl font-bold mb-12 gradient-text text-center">Your Cart</h2>
      <div id="cart-container">
        <div id="empty-cart" class="text-center py-20">
          <i class="fas fa-shopping-bag text-9xl text-gray-300 mb-8"></i>
          <p class="text-gray-500 text-2xl mb-8">Your cart is empty</p>
          <button id="browse-items" class="gradient-bg text-white px-12 py-6 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 font-semibold text-xl shadow-lg">
            Start Shopping
          </button>
        </div>
        <div id="cart-items" class="hidden">
          <div class="border-b-2 border-gray-100 pb-8 mb-8">
            <div id="cart-items-list" class="space-y-6"></div>
          </div>
          <div class="flex justify-between items-center mb-8 p-6 bg-gradient-to-r from-teal-50 to-emerald-50 rounded-2xl border-2 border-teal-100">
            <h3 class="text-2xl font-semibold text-gray-800">Total Amount:</h3>
            <p id="cart-total" class="text-4xl font-bold text-teal-600">$0.00</p>
          </div>
          <button id="checkout-btn" class="w-full gradient-bg text-white py-6 px-8 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 font-semibold text-2xl shadow-lg">
            <i class="fas fa-credit-card mr-3"></i>Complete Purchase
          </button>
        </div>
      </div>
    </div>
  </div>

    
  <div id="address-page" class="hidden fade-in">
    <div class="bg-white rounded-3xl p-12 shadow-2xl border-2 border-gray-100">
      <h2 class="text-5xl font-bold mb-12 gradient-text text-center">Delivery Address</h2>
      <div id="address-container">
        <div id="no-address" class="text-center py-20">
          <i class="fas fa-map-marked-alt text-9xl text-gray-300 mb-8"></i>
          <p class="text-gray-500 text-2xl mb-8">Add your delivery address</p>
          <button id="add-address-btn" class="gradient-bg text-white px-12 py-6 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 font-semibold text-xl shadow-lg">
            Add Address
          </button>
        </div>
        <div id="address-form-container" class="hidden">
          <form id="address-form" class="space-y-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
              <div>
                <label class="block text-gray-700 mb-4 font-semibold text-lg" for="full-name">Full Name</label>
                <input type="text" id="full-name" class="w-full px-6 py-5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 focus:bg-white text-gray-800 transition-all duration-300 text-lg" required>
              </div>
              <div>
                <label class="block text-gray-700 mb-4 font-semibold text-lg" for="phone">Phone Number</label>
                <input type="tel" id="phone" class="w-full px-6 py-5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 focus:bg-white text-gray-800 transition-all duration-300 text-lg" required>
              </div>
            </div>
            <div>
              <label class="block text-gray-700 mb-4 font-semibold text-lg" for="address">Full Address</label>
              <textarea id="address" rows="4" class="w-full px-6 py-5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 focus:bg-white text-gray-800 transition-all duration-300 resize-none text-lg" required></textarea>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
              <div>
                <label class="block text-gray-700 mb-4 font-semibold text-lg" for="city">City</label>
                <input type="text" id="city" class="w-full px-6 py-5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 focus:bg-white text-gray-800 transition-all duration-300 text-lg" required>
              </div>
              <div>
                <label class="block text-gray-700 mb-4 font-semibold text-lg" for="zip">ZIP Code</label>
                <input type="text" id="zip" class="w-full px-6 py-5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 focus:bg-white text-gray-800 transition-all duration-300 text-lg" required>
              </div>
            </div>
            <div>
              <label class="block text-gray-700 mb-4 font-semibold text-lg" for="country">Country</label>
              <input type="text" id="country" class="w-full px-6 py-5 bg-gray-50 border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 focus:bg-white text-gray-800 transition-all duration-300 text-lg" required>
            </div>
            <button type="submit" class="w-full gradient-bg text-white py-6 px-8 rounded-2xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 font-semibold text-2xl shadow-lg">
              Save Address
            </button>
          </form>
        </div>
        <div id="saved-address" class="hidden">
          <div class="bg-gradient-to-r from-teal-50 to-emerald-50 p-8 rounded-3xl border-2 border-teal-100">
            <h3 class="font-bold text-gray-800 text-3xl mb-6">Saved Address</h3>
            <div id="address-details" class="text-gray-600 space-y-4 text-xl"></div>
            <button id="edit-address" class="mt-8 text-teal-600 hover:text-teal-700 font-semibold text-lg transition-colors duration-200">
              <i class="fas fa-edit mr-2"></i>Edit Address
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

    
  <div id="admin-dashboard" class="hidden fade-in">
    <div class="bg-white rounded-3xl p-12 shadow-2xl border-2 border-gray-100">
      <h2 class="text-5xl font-bold mb-12 gradient-text text-center">Admin Dashboard</h2>
      
      <div class="mb-16">
        <div class="flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 space-y-6 lg:space-y-0">
          <h3 class="text-3xl font-semibold text-gray-800">Product Management</h3>
          <button id="add-product-btn" class="gradient-bg text-white px-8 py-4 rounded-2xl hover:shadow-xl transform hover:scale-105 transition-all duration-300 font-semibold text-lg shadow-lg">
            <i class="fas fa-plus mr-2"></i>Add New Product
          </button>
        </div>
        
        <div id="add-product-form" class="bg-gradient-to-r from-teal-50 to-emerald-50 p-8 rounded-3xl border-2 border-teal-100 mb-12 hidden">
          <form id="new-product-form" class="space-y-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
              <div>
                <label class="block text-gray-700 mb-4 font-semibold text-lg" for="product-name">Product Name</label>
                <input type="text" id="product-name" class="w-full px-6 py-5 bg-white border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 text-gray-800 transition-all duration-300 text-lg" required>
              </div>
              <div>
                <label class="block text-gray-700 mb-4 font-semibold text-lg" for="product-price">Price ($)</label>
                <input type="number" id="product-price" min="0" step="0.01" class="w-full px-6 py-5 bg-white border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 text-gray-800 transition-all duration-300 text-lg" required>
              </div>
            </div>
            <div>
              <label class="block text-gray-700 mb-4 font-semibold text-lg" for="product-description">Description</label>
              <textarea id="product-description" rows="5" class="w-full px-6 py-5 bg-white border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 text-gray-800 transition-all duration-300 resize-none text-lg" required></textarea>
            </div>
            <div>
              <label class="block text-gray-700 mb-4 font-semibold text-lg" for="product-image">Image URL</label>
              <input type="text" id="product-image" class="w-full px-6 py-5 bg-white border-2 border-gray-200 rounded-2xl focus:outline-none focus:border-teal-500 text-gray-800 transition-all duration-300 text-lg" required>
            </div>
            <div class="flex space-x-6">
              <button type="submit" class="bg-gradient-to-r from-green-500 to-emerald-500 text-white px-8 py-4 rounded-2xl hover:shadow-xl transform hover:scale-105 transition-all duration-300 font-semibold text-lg shadow-lg">
                <i class="fas fa-check mr-2"></i>Add Product
              </button>
              <button type="button" id="cancel-add-product" class="bg-gray-500 text-white px-8 py-4 rounded-2xl hover:bg-gray-600 transform hover:scale-105 transition-all duration-300 font-semibold text-lg">
                <i class="fas fa-times mr-2"></i>Cancel
              </button>
            </div>
          </form>
        </div>
        
        <div class="overflow-x-auto rounded-3xl border-2 border-gray-100">
          <table class="min-w-full bg-white rounded-3xl">
            <thead>
              <tr class="bg-gradient-to-r from-teal-50 to-emerald-50">
                <th class="py-6 px-8 border-b-2 border-teal-100 text-left text-gray-800 font-semibold text-lg">Product</th>
                <th class="py-6 px-8 border-b-2 border-teal-100 text-left text-gray-800 font-semibold text-lg">Description</th>
                <th class="py-6 px-8 border-b-2 border-teal-100 text-left text-gray-800 font-semibold text-lg">Price</th>
                <th class="py-6 px-8 border-b-2 border-teal-100 text-left text-gray-800 font-semibold text-lg">Actions</th>
              </tr>
            </thead>
            <tbody id="admin-products-list">
              
    <tr class="hover:bg-teal-50 transition-colors duration-200 border-b border-gray-100">
      <td class="py-4 px-6 text-gray-800 font-medium">Wireless Headphones</td>
      <td class="py-4 px-6 text-gray-600">High-quality wireless headphones with noise cancellation</td>
      <td class="py-4 px-6 text-teal-600 font-bold text-lg">$99.99</td>
      <td class="py-4 px-6">
        <button class="delete-product text-rose-500 hover:text-rose-600 transition-colors duration-200 transform hover:scale-110" data-id="1">
          <i class="fas fa-trash-alt"></i>
        </button>
      </td>
    </tr>
  
            </tbody>
          </table>
        </div>
      </div>
      
      <div>
        <h3 class="text-3xl font-semibold text-gray-800 mb-8">Customer Orders</h3>
        <div class="overflow-x-auto rounded-3xl border-2 border-gray-100">
          <table class="min-w-full bg-white rounded-3xl">
            <thead>
              <tr class="bg-gradient-to-r from-teal-50 to-emerald-50">
                <th class="py-6 px-8 border-b-2 border-teal-100 text-left text-gray-800 font-semibold text-lg">Order ID</th>
                <th class="py-6 px-8 border-b-2 border-teal-100 text-left text-gray-800 font-semibold text-lg">Customer</th>
                <th class="py-6 px-8 border-b-2 border-teal-100 text-left text-gray-800 font-semibold text-lg">Items</th>
                <th class="py-6 px-8 border-b-2 border-teal-100 text-left text-gray-800 font-semibold text-lg">Total</th>
                <th class="py-6 px-8 border-b-2 border-teal-100 text-left text-gray-800 font-semibold text-lg">Phone</th>
                <th class="py-6 px-8 border-b-2 border-teal-100 text-left text-gray-800 font-semibold text-lg">Address</th>
              </tr>
            </thead>
            <tbody id="orders-list"></tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

  </main>

        </div>
      </div>

      <script>
        
  // API Configuration
  const API_BASE_URL = 'http://localhost:5000';
  const ecommerceId = '68f27c3e732078312cffdbec';
  
  // DOM Elements
  const authBtn = document.getElementById('auth-btn');
  const logoutBtn = document.getElementById('logout-btn');
  const cartBtn = document.getElementById('cart-btn');
  const cartCount = document.getElementById('cart-count');
  const menuToggle = document.getElementById('menu-toggle');
  const sidebar = document.getElementById('sidebar');
  
  // Modal Elements
  const loginModal = document.getElementById('login-modal');
  const signupModal = document.getElementById('signup-modal');
  const showLoginBtn = document.getElementById('show-login');
  const showSignupBtn = document.getElementById('show-signup');
  const closeModalBtns = document.querySelectorAll('.close-modal');
  
  // Form Elements
  const loginForm = document.getElementById('login-form');
  const signupForm = document.getElementById('signup-form');
  
  // Page Elements
  const homePage = document.getElementById('home-page');
  const itemsPage = document.getElementById('items-page');
  const cartPage = document.getElementById('cart-page');
  const addressPage = document.getElementById('address-page');
  const adminDashboard = document.getElementById('admin-dashboard');
  
  // Navigation Buttons
  const homeBtn = document.getElementById('home-btn');
  const itemsBtn = document.getElementById('items-btn');
  const cartNavBtn = document.getElementById('cart-nav-btn');
  const addressBtn = document.getElementById('address-btn');
  const adminBtn = document.getElementById('admin-btn');
  const adminDashboardBtn = document.getElementById('admin-dashboard-btn');
  const browseItemsBtn = document.getElementById('browse-items');
  const addAddressBtn = document.getElementById('add-address-btn');
  
  // Items Page Elements
  const itemsContainer = document.getElementById('items-container');
  const searchItems = document.getElementById('search-items');
  
  // Cart Page Elements
  const emptyCart = document.getElementById('empty-cart');
  const cartItems = document.getElementById('cart-items');
  const cartItemsList = document.getElementById('cart-items-list');
  const cartTotal = document.getElementById('cart-total');
  const checkoutBtn = document.getElementById('checkout-btn');
  
  // Address Page Elements
  const noAddress = document.getElementById('no-address');
  const addressFormContainer = document.getElementById('address-form-container');
  const addressForm = document.getElementById('address-form');
  const savedAddress = document.getElementById('saved-address');
  const addressDetails = document.getElementById('address-details');
  const editAddressBtn = document.getElementById('edit-address');
  
  // Admin Dashboard Elements
  const addProductBtn = document.getElementById('add-product-btn');
  const addProductForm = document.getElementById('add-product-form');
  const newProductForm = document.getElementById('new-product-form');
  const cancelAddProduct = document.getElementById('cancel-add-product');
  const adminProductsList = document.getElementById('admin-products-list');
  const ordersList = document.getElementById('orders-list');
  
  // Data
  let products = [{"id":"1","name":"Wireless Headphones","description":"High-quality wireless headphones with noise cancellation","price":99.99,"image":"https://res.cloudinary.com/drc8bufjn/image/upload/v1760721986/ecommerce_products/kvyqbbzaqwo6744lnskl.png"}];
  let currentUser = null;
  
  // Event Listeners
  document.addEventListener('DOMContentLoaded', initApp);
  authBtn.addEventListener('click', showAuthModal);
  logoutBtn.addEventListener('click', logout);
  menuToggle.addEventListener('click', toggleSidebar);
  
  // Modal Events
  showLoginBtn.addEventListener('click', () => {
    signupModal.classList.add('hidden');
    loginModal.classList.remove('hidden');
  });
  
  showSignupBtn.addEventListener('click', () => {
    loginModal.classList.add('hidden');
    signupModal.classList.remove('hidden');
  });
  
  closeModalBtns.forEach(btn => {
    btn.addEventListener('click', () => {
      loginModal.classList.add('hidden');
      signupModal.classList.add('hidden');
    });
  });
  
  // Close modal when clicking outside
  [loginModal, signupModal].forEach(modal => {
    modal.addEventListener('click', (e) => {
      if (e.target === modal) {
        modal.classList.add('hidden');
      }
    });
  });
  
  // Form Events
  loginForm.addEventListener('submit', handleLogin);
  signupForm.addEventListener('submit', handleSignup);
  
  // Navigation Events
  homeBtn.addEventListener('click', () => showPage('home'));
  itemsBtn.addEventListener('click', () => showPage('items'));
  cartNavBtn.addEventListener('click', () => showPage('cart'));
  cartBtn.addEventListener('click', () => showPage('cart'));
  addressBtn.addEventListener('click', () => showPage('address'));
  adminBtn?.addEventListener('click', () => showPage('admin'));
  browseItemsBtn.addEventListener('click', () => showPage('items'));
  addAddressBtn?.addEventListener('click', showAddressForm);
  
  // Items Events
  searchItems.addEventListener('input', filterItems);
  
  // Cart Events
  checkoutBtn.addEventListener('click', checkout);
  
  // Address Events
  addressForm.addEventListener('submit', saveAddress);
  editAddressBtn?.addEventListener('click', editAddress);
  
  // Admin Events
  addProductBtn?.addEventListener('click', () => addProductForm.classList.toggle('hidden'));
  cancelAddProduct?.addEventListener('click', () => addProductForm.classList.add('hidden'));
  newProductForm?.addEventListener('submit', addNewProduct);
  
  // Initialize Application
  async function initApp() {
    const token = localStorage.getItem('ecommerce_token');
    if (token) {
      try {
        const response = await fetch(`${API_BASE_URL}/api/ecommerce/${ecommerceId}/user`, {
          headers: { 'Authorization': `Bearer ${token}` },
        });
        const data = await response.json();
        if (response.ok) {
          currentUser = data.user;
          localStorage.setItem('ecommerce_currentUser', JSON.stringify(currentUser));
          localStorage.setItem('ecommerce_token', token);
          updateAuthUI();
          if (currentUser.isAdmin) {
            renderAdminProducts();
            renderOrders();
          }
        } else {
          throw new Error(data.error);
        }
      } catch (error) {
        console.error('Auto-login failed:', error);
        logout();
      }
    }
    
    showPage('home');
    renderProducts();
    updateCartCount();
  }
  
  // Auth Functions
  function showAuthModal() {
    if (currentUser) return;
    loginModal.classList.remove('hidden');
  }
  
  async function handleLogin(e) {
    e.preventDefault();
    const email = document.getElementById('login-email').value;
    const password = document.getElementById('login-password').value;

    try {
      const response = await fetch(`${API_BASE_URL}/api/ecommerce/${ecommerceId}/login`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ email, password }),
      });
      const data = await response.json();
      if (!response.ok) throw new Error(data.error);

      currentUser = data.user;
      localStorage.setItem('ecommerce_token', data.token);
      localStorage.setItem('ecommerce_currentUser', JSON.stringify(currentUser));

      loginModal.classList.add('hidden');
      updateAuthUI();
      if (currentUser.isAdmin) {
        showPage('admin');
        renderAdminProducts();
        renderOrders();
      } else {
        showPage('home');
      }
    } catch (error) {
      showToast(`Login failed: ${error.message}`, 'error');
    }
  }
  
  async function handleSignup(e) {
    e.preventDefault();
    const name = document.getElementById('signup-name').value;
    const email = document.getElementById('signup-email').value;
    const password = document.getElementById('signup-password').value;
    const phoneNumber = document.getElementById('signup-phone').value;
    const whatsapp = document.getElementById('signup-whatsapp').value;
    
    try {
      const response = await fetch(`${API_BASE_URL}/api/ecommerce/${ecommerceId}/signup`, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name, email, password, phoneNumber, whatsapp }),
      });
      const data = await response.json();
      if (!response.ok) throw new Error(data.error);

      currentUser = data.user;
      localStorage.setItem('ecommerce_token', data.token);
      localStorage.setItem('ecommerce_currentUser', JSON.stringify(currentUser));

      signupModal.classList.add('hidden');
      updateAuthUI();
      showPage('home');
    } catch (error) {
      showToast(`Sign up failed: ${error.message}`, 'error');
    }
  }
  
  function logout() {
    currentUser = null;
    localStorage.removeItem('ecommerce_token');
    localStorage.removeItem('ecommerce_currentUser');
    localStorage.removeItem('ecommerce_cart');
    updateAuthUI();
    showPage('home');
  }
  
  function updateAuthUI() {
    const token = localStorage.getItem('ecommerce_token');
    if (token && currentUser) {
      authBtn.classList.add('hidden');
      logoutBtn.classList.remove('hidden');
      cartBtn.classList.remove('hidden');
      addressBtn.classList.remove('hidden');
      
      if (currentUser.isAdmin) {
        adminDashboardBtn.classList.remove('hidden');
      } else {
        adminDashboardBtn.classList.add('hidden');
      }
    } else {
      authBtn.classList.remove('hidden');
      logoutBtn.classList.add('hidden');
      cartBtn.classList.add('hidden');
      adminDashboardBtn.classList.add('hidden');
      addressBtn.classList.add('hidden');
    }
    updateCartCount();
  }
  
  // Navigation Functions
  function showPage(page) {
    const pages = [homePage, itemsPage, cartPage, addressPage, adminDashboard];
    pages.forEach(p => {
      p.classList.add('hidden');
      p.classList.remove('fade-in');
    });

    document.querySelectorAll('#sidebar button').forEach(btn => {
      btn.classList.remove('bg-teal-500', 'text-white', 'shadow-lg');
      btn.classList.add('hover:bg-teal-50', 'text-gray-700', 'border-transparent');
    });
    
    setTimeout(() => {
      switch (page) {
        case 'home':
          homePage.classList.remove('hidden');
          homePage.classList.add('fade-in');
          homeBtn.classList.remove('hover:bg-teal-50', 'text-gray-700', 'border-transparent');
          homeBtn.classList.add('bg-teal-500', 'text-white', 'shadow-lg');
          break;
        case 'items':
          itemsPage.classList.remove('hidden');
          itemsPage.classList.add('fade-in');
          itemsBtn.classList.remove('hover:bg-teal-50', 'text-gray-700', 'border-transparent');
          itemsBtn.classList.add('bg-teal-500', 'text-white', 'shadow-lg');
          break;
        case 'cart':
          cartPage.classList.remove('hidden');
          cartPage.classList.add('fade-in');
          cartNavBtn.classList.remove('hover:bg-teal-50', 'text-gray-700', 'border-transparent');
          cartNavBtn.classList.add('bg-teal-500', 'text-white', 'shadow-lg');
          renderCart();
          break;
        case 'address':
          if (!currentUser) {
            showAuthModal();
            return;
          }
          addressPage.classList.remove('hidden');
          addressPage.classList.add('fade-in');
          addressBtn.classList.remove('hover:bg-teal-50', 'text-gray-700', 'border-transparent');
          addressBtn.classList.add('bg-teal-500', 'text-white', 'shadow-lg');
          renderAddress();
          break;
        case 'admin':
          if (!currentUser?.isAdmin) {
            showPage('home');
            return;
          }
          adminDashboard.classList.remove('hidden');
          adminDashboard.classList.add('fade-in');
          adminBtn.classList.remove('hover:bg-teal-50', 'text-gray-700', 'border-transparent');
          adminBtn.classList.add('bg-teal-500', 'text-white', 'shadow-lg');
          break;
      }
    }, 50);
  }
  
  function toggleSidebar() {
    sidebar.classList.toggle('-translate-x-full');
  }
  
  // Product Functions
  function renderProducts(filteredProducts = null) {
    itemsContainer.innerHTML = '';
    const productsToRender = filteredProducts || products;

    if (productsToRender.length === 0) {
      itemsContainer.innerHTML = '<p class="text-gray-500 col-span-4 text-center py-20 text-2xl">No products found matching your search</p>';
      return;
    }

    productsToRender.forEach(product => {
      const productCard = document.createElement('div');
      productCard.className = 'bg-white rounded-3xl border-2 border-gray-100 overflow-hidden hover:border-teal-200 hover:shadow-2xl transition-all duration-500 group card-hover';
      productCard.innerHTML = `
        <div class="relative overflow-hidden">
          <img src="${product.image}" alt="${product.name}" class="w-full h-48 object-cover group-hover:scale-110 transition duration-700">
          <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-0 group-hover:opacity-100 transition duration-500"></div>
        </div>
        <div class="p-6">
          <h3 class="font-bold text-xl mb-3 text-gray-800 group-hover:text-teal-700 transition-colors duration-300">${product.name}</h3>
          <p class="text-gray-600 mb-4 leading-relaxed">${product.description}</p>
          <div class="flex justify-between items-center">
            <span class="font-bold text-2xl text-teal-600">$${product.price.toFixed(2)}</span>
            ${currentUser ? `<button class="add-to-cart bg-teal-500 text-white px-5 py-2.5 rounded-2xl hover:bg-teal-600 hover:shadow-lg transform hover:scale-105 transition-all duration-300 font-semibold" data-id="${product.id}">
              <i class="fas fa-shopping-bag mr-2"></i>Add
            </button>` : ''}
          </div>
        </div>
      `;
      itemsContainer.appendChild(productCard);
    });

    document.querySelectorAll('.add-to-cart').forEach(button => {
      button.addEventListener('click', async (e) => {
        const productId = e.target.getAttribute('data-id');
        await addToCart(productId);
      });
    });
  }
  
  function filterItems() {
    const searchTerm = searchItems.value.toLowerCase();
    const filteredProducts = products.filter(product => 
      product.name.toLowerCase().includes(searchTerm) || 
      product.description.toLowerCase().includes(searchTerm)
    );
    renderProducts(filteredProducts);
  }
  
  // Cart Functions
  async function addToCart(productId) {
    if (!currentUser) {
      showAuthModal();
      return;
    }
    const token = localStorage.getItem('ecommerce_token');
    try {
      const response = await fetch(`${API_BASE_URL}/api/ecommerce/${ecommerceId}/cart`, {
        method: 'POST',
        headers: { 
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${token}`
        },
        body: JSON.stringify({ productId, quantity: 1 }),
      });
      const data = await response.json();
      if (!response.ok) throw new Error(data.error);
      localStorage.setItem('ecommerce_cart', JSON.stringify(data.items));
      updateCartCount();
      const product = products.find(p => p.id === productId);
      showToast(`${product.name} added to cart`, 'success');
    } catch (error) {
      showToast(`Failed to add to cart: ${error.message}`, 'error');
    }
  }
  
  async function updateCartCount() {
    const token = localStorage.getItem('ecommerce_token');
    if (!token) {
      cartCount.classList.add('hidden');
      return;
    }
    try {
      const response = await fetch(`${API_BASE_URL}/api/ecommerce/${ecommerceId}/cart`, {
        headers: { 'Authorization': `Bearer ${token}` },
      });
      const data = await response.json();
      if (!response.ok) throw new Error(data.error);
      
      const count = data.items.reduce((total, item) => total + item.quantity, 0);
      localStorage.setItem('ecommerce_cart', JSON.stringify(data.items));

      if (count > 0) {
        cartCount.textContent = count;
        cartCount.classList.remove('hidden');
      } else {
        cartCount.classList.add('hidden');
      }
    } catch (error) {
      console.error('Failed to fetch cart count:', error);
      cartCount.classList.add('hidden');
    }
  }
  
  function renderCart() {
    const cart = JSON.parse(localStorage.getItem('ecommerce_cart')) || [];
    if (cart.length === 0) {
      emptyCart.classList.remove('hidden');
      cartItems.classList.add('hidden');
      return;
    }

    emptyCart.classList.add('hidden');
    cartItems.classList.remove('hidden');
    cartItemsList.innerHTML = '';
    let total = 0;

    cart.forEach(item => {
      const product = products.find(p => p.id === item.productId);
      if (!product) return;

      total += product.price * item.quantity;

      const cartItem = document.createElement('div');
      cartItem.className = 'flex justify-between items-center bg-gradient-to-r from-teal-50 to-emerald-50 p-6 rounded-2xl border-2 border-teal-100 card-hover';
      cartItem.innerHTML = `
        <div class="flex items-center space-x-6">
          <img src="${product.image}" alt="${product.name}" class="w-24 h-24 object-cover rounded-2xl">
          <div>
            <h4 class="font-semibold text-gray-800 text-xl">${product.name}</h4>
            <p class="text-teal-600 font-bold text-2xl">$${product.price.toFixed(2)}</p>
          </div>
        </div>
        <div class="flex items-center space-x-4">
          <button class="decrease-quantity text-gray-500 hover:text-teal-600 px-4 py-3 border-2 border-gray-200 rounded-2xl hover:border-teal-500 transition-all duration-200 transform hover:scale-110" data-id="${product.id}">
            <i class="fas fa-minus"></i>
          </button>
          <span class="quantity px-5 py-3 border-2 border-gray-200 text-gray-800 font-semibold text-xl">${item.quantity}</span>
          <button class="increase-quantity text-gray-500 hover:text-teal-600 px-4 py-3 border-2 border-gray-200 rounded-2xl hover:border-teal-500 transition-all duration-200 transform hover:scale-110" data-id="${product.id}">
            <i class="fas fa-plus"></i>
          </button>
          <button class="remove-item text-rose-500 hover:text-rose-600 ml-4 transform hover:scale-110 transition-all duration-200" data-id="${product.id}">
            <i class="fas fa-trash-alt text-2xl"></i>
          </button>
        </div>
      `;
      cartItemsList.appendChild(cartItem);
    });

    cartTotal.textContent = `$${total.toFixed(2)}`;

    document.querySelectorAll('.increase-quantity').forEach(button => {
      button.addEventListener('click', async (e) => {
        const productId = e.target.closest('button').getAttribute('data-id');
        await updateCartItemQuantity(productId, 1);
      });
    });
    
    document.querySelectorAll('.decrease-quantity').forEach(button => {
      button.addEventListener('click', async (e) => {
        const productId = e.target.closest('button').getAttribute('data-id');
        await updateCartItemQuantity(productId, -1);
      });
    });
    
    document.querySelectorAll('.remove-item').forEach(button => {
      button.addEventListener('click', async (e) => {
        const productId = e.target.closest('button').getAttribute('data-id');
        await removeFromCart(productId);
      });
    });
  }
  
  async function updateCartItemQuantity(productId, change) {
    const token = localStorage.getItem('ecommerce_token');
    try {
      const response = await fetch(`${API_BASE_URL}/api/ecommerce/${ecommerceId}/cart`, {
        method: 'PUT',
        headers: { 
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${token}`
        },
        body: JSON.stringify({ productId, quantityChange: change }),
      });
      const data = await response.json();
      if (!response.ok) throw new Error(data.error);
      localStorage.setItem('ecommerce_cart', JSON.stringify(data.items));
      updateCartCount();
      renderCart();
    } catch (error) {
      showToast(`Failed to update cart: ${error.message}`, 'error');
    }
  }
  
  async function removeFromCart(productId) {
    const token = localStorage.getItem('ecommerce_token');
    try {
      const response = await fetch(`${API_BASE_URL}/api/ecommerce/${ecommerceId}/cart/${productId}`, {
        method: 'DELETE',
        headers: { 'Authorization': `Bearer ${token}` },
      });
      const data = await response.json();
      if (!response.ok) throw new Error(data.error);

      localStorage.setItem('ecommerce_cart', JSON.stringify(data.items));
      updateCartCount();
      renderCart();
      showToast('Item removed from cart', 'success');
    } catch (error) {
      showToast(`Failed to remove from cart: ${error.message}`, 'error');
    }
  }
  
  async function checkout() {
    if (!currentUser) {
      showAuthModal();
      return;
    }
    const token = localStorage.getItem('ecommerce_token');
    const cart = JSON.parse(localStorage.getItem('ecommerce_cart')) || [];
    if (cart.length === 0) {
      showToast('Your cart is empty', 'warning');
      return;
    }
    if (!currentUser.address) {
      showToast('Please add your address before checkout', 'warning');
      showPage('address');
      return;
    }
    try {
      const response = await fetch(`${API_BASE_URL}/api/ecommerce/${ecommerceId}/order`, {
        method: 'POST',
        headers: { 
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${token}`
        },
      });
      const data = await response.json();
      if (!response.ok) throw new Error(data.error);

      localStorage.removeItem('ecommerce_cart');
      updateCartCount();
      renderCart();
      showToast('Order placed successfully!', 'success');
      showPage('home');
    } catch (error) {
      showToast(`Checkout failed: ${error.message}`, 'error');
    }
  }
  
  // Address Functions
  function showAddressForm() {
    noAddress.classList.add('hidden');
    addressFormContainer.classList.remove('hidden');
    savedAddress.classList.add('hidden');
    
    if (currentUser.address) {
      document.getElementById('full-name').value = currentUser.address.fullName;
      document.getElementById('phone').value = currentUser.address.phone;
      document.getElementById('address').value = currentUser.address.address;
      document.getElementById('city').value = currentUser.address.city;
      document.getElementById('zip').value = currentUser.address.zip;
      document.getElementById('country').value = currentUser.address.country;
    }
  }
  
  async function saveAddress(e) {
    e.preventDefault();
    const token = localStorage.getItem('ecommerce_token');
    const address = {
      fullName: document.getElementById('full-name').value,
      phone: document.getElementById('phone').value,
      address: document.getElementById('address').value,
      city: document.getElementById('city').value,
      zip: document.getElementById('zip').value,
      country: document.getElementById('country').value
    };
    try {
      const response = await fetch(`${API_BASE_URL}/api/ecommerce/${ecommerceId}/address`, {
        method: 'PUT',
        headers: { 
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${token}`
        },
        body: JSON.stringify(address),
      });
      const data = await response.json();
      if (!response.ok) throw new Error(data.error);
      
      currentUser.address = data.address;
      localStorage.setItem('ecommerce_currentUser', JSON.stringify(currentUser));
      
      renderAddress();
      showToast('Address saved successfully', 'success');
    } catch (error) {
      showToast(`Failed to save address: ${error.message}`, 'error');
    }
  }
  
  function renderAddress() {
    if (!currentUser?.address) {
      noAddress.classList.remove('hidden');
      addressFormContainer.classList.add('hidden');
      savedAddress.classList.add('hidden');
      return;
    }

    noAddress.classList.add('hidden');
    addressFormContainer.classList.add('hidden');
    savedAddress.classList.remove('hidden');
    const address = currentUser.address;
    addressDetails.innerHTML = `
      <p><strong class="text-teal-600">Name:</strong> <span class="text-gray-800">${address.fullName}</span></p>
      <p><strong class="text-teal-600">Phone:</strong> <span class="text-gray-800">${address.phone}</span></p>
      <p><strong class="text-teal-600">Address:</strong> <span class="text-gray-800">${address.address}</span></p>
      <p><strong class="text-teal-600">City:</strong> <span class="text-gray-800">${address.city}</span></p>
      <p><strong class="text-teal-600">ZIP:</strong> <span class="text-gray-800">${address.zip}</span></p>
      <p><strong class="text-teal-600">Country:</strong> <span class="text-gray-800">${address.country}</span></p>
    `;
  }
  
  function editAddress() {
    showAddressForm();
  }
  
  // Admin Functions
  async function renderAdminProducts() {
    adminProductsList.innerHTML = '';
    products.forEach(product => {
      const row = document.createElement('tr');
      row.className = 'hover:bg-teal-50 transition-colors duration-200 border-b border-gray-100';
      row.innerHTML = `
        <td class="py-6 px-8 text-gray-800 font-medium text-lg">${product.name}</td>
        <td class="py-6 px-8 text-gray-600">${product.description}</td>
        <td class="py-6 px-8 text-teal-600 font-bold text-xl">$${product.price.toFixed(2)}</td>
        <td class="py-6 px-8">
          <button class="delete-product text-rose-500 hover:text-rose-600 transition-colors duration-200 transform hover:scale-110" data-id="${product.id}">
            <i class="fas fa-trash-alt text-xl"></i>
          </button>
        </td>
      `;
      adminProductsList.appendChild(row);
    });
    
    document.querySelectorAll('.delete-product').forEach(button => {
      button.addEventListener('click', async (e) => {
        const productId = e.target.closest('button').getAttribute('data-id');
        deleteProduct(productId);
      });
    });
  }
  
  async function addNewProduct(e) {
    e.preventDefault();
    const token = localStorage.getItem('ecommerce_token');
    const name = document.getElementById('product-name').value;
    const price = parseFloat(document.getElementById('product-price').value);
    const description = document.getElementById('product-description').value;
    const image = document.getElementById('product-image').value;
    try {
      const response = await fetch(`${API_BASE_URL}/api/ecommerce/${ecommerceId}/add-product`, {
        method: 'POST',
        headers: { 
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${token}`
        },
        body: JSON.stringify({ name, description, price, image }),
      });
      const data = await response.json();
      if (!response.ok) throw new Error(data.error);

      products.push(data.product);
      
      document.getElementById('new-product-form').reset();
      addProductForm.classList.add('hidden');
      renderAdminProducts();
      renderProducts();
      showToast('Product added successfully', 'success');
    } catch (error) {
      showToast(`Failed to add product: ${error.message}`, 'error');
    }
  }
  
  async function deleteProduct(productId) {
    if (confirm('Are you sure you want to delete this product?')) {
      const token = localStorage.getItem('ecommerce_token');
      try {
        const response = await fetch(`${API_BASE_URL}/api/ecommerce/${ecommerceId}/product/${productId}`, {
          method: 'DELETE',
          headers: { 'Authorization': `Bearer ${token}` },
        });
        const data = await response.json();
        if (!response.ok) throw new Error(data.error);

        products = products.filter(p => p.id !== productId);
        
        renderAdminProducts();
        renderProducts();
        showToast('Product deleted successfully', 'success');
      } catch (error) {
        showToast(`Failed to delete product: ${error.message}`, 'error');
      }
    }
  }
  
  async function renderOrders() {
    ordersList.innerHTML = '';
    const token = localStorage.getItem('ecommerce_token');
    try {
      const response = await fetch(`${API_BASE_URL}/api/ecommerce/${ecommerceId}/orders`, {
        headers: { 'Authorization': `Bearer ${token}` },
      });
      const orders = await response.json();
      if (!response.ok) throw new Error(orders.error);
      if (orders.length === 0) {
        ordersList.innerHTML = `
          <tr>
            <td colspan="6" class="py-12 text-center text-gray-500 text-2xl">No orders yet</td>
          </tr>
        `;
        return;
      }
      
      orders.forEach(order => {
        const row = document.createElement('tr');
        row.className = 'hover:bg-teal-50 transition-colors duration-200';
        
        const itemsList = order.items.map(item => 
          `${item.name} (${item.quantity} x $${item.price.toFixed(2)})`
        ).join('<br>');
        
        row.innerHTML = `
          <td class="py-6 px-8 border-b border-gray-100 text-teal-600 font-mono text-lg">${order._id.substring(0, 8)}...</td>
          <td class="py-6 px-8 border-b border-gray-100 text-gray-800 text-lg">${order.customerName}</td>
          <td class="py-6 px-8 border-b border-gray-100 text-gray-600">${itemsList}</td>
          <td class="py-6 px-8 border-b border-gray-100 text-green-600 font-bold text-xl">$${order.total.toFixed(2)}</td>
          <td class="py-6 px-8 border-b border-gray-100 text-gray-600">${order.phone}</td>
          <td class="py-6 px-8 border-b border-gray-100 text-gray-600">
            ${order.address.address}, ${order.address.city}, ${order.address.zip}, ${order.address.country}
          </td>
        `;
        ordersList.appendChild(row);
      });
    } catch (error) {
      ordersList.innerHTML = `
        <tr>
          <td colspan="6" class="py-12 text-center text-rose-500 text-2xl">Failed to load orders: ${error.message}</td>
        </tr>
      `;
    }
  }
  
  // Utility Functions
  function showToast(message, type = 'success') {
    const colors = {
      success: 'from-teal-500 to-emerald-500',
      error: 'from-rose-500 to-pink-500',
      warning: 'from-amber-500 to-orange-500'
    };
    
    const icons = {
      success: 'fa-check-circle',
      error: 'fa-exclamation-circle',
      warning: 'fa-exclamation-triangle'
    };
    
    const toast = document.createElement('div');
    toast.className = `fixed top-8 right-8 bg-gradient-to-r ${colors[type]} text-white px-8 py-6 rounded-2xl shadow-2xl z-50 transform transition-all duration-500 translate-x-32`;
    toast.innerHTML = `
      <div class="flex items-center space-x-4">
        <i class="fas ${icons[type]} text-2xl"></i>
        <span class="font-semibold text-lg">${message}</span>
      </div>
    `;
    document.body.appendChild(toast);
    
    setTimeout(() => {
      toast.classList.remove('translate-x-32');
    }, 100);
    
    setTimeout(() => {
      toast.classList.add('opacity-0', 'translate-x-32', 'transition-all', 'duration-500');
      setTimeout(() => toast.remove(), 500);
    }, 4000);
  }

      </script>
    </body>
    </html>
  